<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VertProjet - Gestion de Projets Ultra-Professionnelle</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', system-ui, sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            min-height: 100vh;
            color: #0f172a;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 256px;
            background: white;
            border-right: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
        }

        .logo {
            padding: 1.5rem;
            border-bottom: 1px solid #e2e8f0;
        }

        .logo h1 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 0.25rem;
        }

        .logo p {
            font-size: 0.875rem;
            color: #64748b;
        }

        .nav {
            flex: 1;
            padding: 1rem;
        }

        .nav-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .nav-item.active {
            background: #f0fdf4;
            color: #15803d;
            border: 1px solid #bbf7d0;
        }

        .nav-item:hover:not(.active) {
            background: #f8fafc;
        }

        .nav-item span {
            font-weight: 500;
        }

        .nav-badge {
            background: #e2e8f0;
            color: #475569;
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
            font-size: 0.75rem;
        }

        .nav-item.active .nav-badge {
            background: #dcfce7;
            color: #15803d;
        }

        /* Main Content */
        .main {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Header */
        .header {
            background: white;
            border-bottom: 1px solid #e2e8f0;
            padding: 1rem 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .header-logo {
            width: 2.5rem;
            height: 2.5rem;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            border-radius: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 1.125rem;
        }

        .header-title h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
        }

        .header-title p {
            font-size: 0.875rem;
            color: #64748b;
        }

        .search {
            flex: 1;
            max-width: 24rem;
            margin: 0 2rem;
            position: relative;
        }

        .search input {
            width: 100%;
            padding: 0.5rem 0.75rem 0.5rem 2.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            background: #f8fafc;
            font-size: 0.875rem;
        }

        .search input:focus {
            outline: none;
            border-color: #22c55e;
            box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
            width: 1rem;
            height: 1rem;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .header-btn {
            padding: 0.5rem;
            border-radius: 0.5rem;
            background: none;
            border: none;
            cursor: pointer;
            color: #64748b;
            transition: all 0.2s;
        }

        .header-btn:hover {
            background: #f0fdf4;
            color: #16a34a;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .user-profile:hover {
            background: #f8fafc;
        }

        .user-avatar {
            width: 2rem;
            height: 2rem;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .user-info h4 {
            font-size: 0.875rem;
            font-weight: 500;
            color: #1e293b;
        }

        .user-info p {
            font-size: 0.75rem;
            color: #64748b;
        }

        /* Content */
        .content {
            flex: 1;
            padding: 1.5rem;
            overflow: auto;
        }

        .dashboard-header {
            margin-bottom: 1.5rem;
        }

        .dashboard-header h1 {
            font-size: 2rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 0.5rem;
        }

        .dashboard-header p {
            color: #64748b;
        }

        /* KPIs Grid */
        .kpis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .kpi-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            transition: all 0.2s;
        }

        .kpi-card:hover {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .kpi-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .kpi-icon {
            width: 3rem;
            height: 3rem;
            border-radius: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .kpi-icon.blue { background: #eff6ff; color: #2563eb; }
        .kpi-icon.green { background: #f0fdf4; color: #16a34a; }
        .kpi-icon.red { background: #fef2f2; color: #dc2626; }
        .kpi-icon.primary { background: #f0fdf4; color: #16a34a; }

        .kpi-trend {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .kpi-trend.up { color: #16a34a; }
        .kpi-trend.down { color: #dc2626; }

        .kpi-value {
            font-size: 2rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 0.25rem;
        }

        .kpi-label {
            color: #64748b;
            font-size: 0.875rem;
        }

        /* Main Grid */
        .main-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1.5rem;
        }

        .projects-section {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }

        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }

        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1e293b;
        }

        .section-link {
            color: #16a34a;
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .section-link:hover {
            color: #15803d;
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
        }

        .project-card {
            border: 1px solid #e2e8f0;
            border-radius: 0.75rem;
            padding: 1rem;
            transition: all 0.2s;
        }

        .project-card:hover {
            border-color: #22c55e;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .project-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .project-title {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 0.25rem;
        }

        .project-description {
            color: #64748b;
            font-size: 0.875rem;
        }

        .project-status {
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .project-status.en-cours { background: #dbeafe; color: #1d4ed8; }
        .project-status.termine { background: #dcfce7; color: #15803d; }
        .project-status.retard { background: #fecaca; color: #dc2626; }

        .project-progress {
            margin-bottom: 1rem;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            font-size: 0.875rem;
            color: #64748b;
            margin-bottom: 0.5rem;
        }

        .progress-bar {
            width: 100%;
            height: 0.5rem;
            background: #e2e8f0;
            border-radius: 9999px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 9999px;
            transition: width 1s ease;
        }

        .progress-fill.blue { background: #2563eb; }
        .progress-fill.green { background: #16a34a; }
        .progress-fill.red { background: #dc2626; }

        .project-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .stat {
            text-align: center;
        }

        .stat-label {
            font-size: 0.75rem;
            color: #64748b;
            margin-bottom: 0.25rem;
        }

        .stat-value {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1e293b;
        }

        .project-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            border: none;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: #16a34a;
            color: white;
            flex: 1;
        }

        .btn-primary:hover {
            background: #15803d;
        }

        .btn-outline {
            background: white;
            color: #64748b;
            border: 1px solid #e2e8f0;
        }

        .btn-outline:hover {
            background: #f8fafc;
            border-color: #cbd5e1;
        }

        /* Sidebar Widgets */
        .widgets {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .widget {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }

        .widget-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .widget-icon {
            width: 1.25rem;
            height: 1.25rem;
            color: #16a34a;
        }

        .widget-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1e293b;
        }

        .widget-content {
            text-align: center;
            color: #64748b;
        }

        .widget-placeholder {
            width: 3rem;
            height: 3rem;
            margin: 0 auto 0.75rem;
            color: #cbd5e1;
        }

        .widget-text {
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }

        .widget-subtext {
            font-size: 0.75rem;
            color: #94a3b8;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                width: 200px;
            }
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
            }
            
            .kpis-grid {
                grid-template-columns: 1fr;
            }
            
            .projects-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Calendar Styles */
        .calendar-container {
            background: white;
            border-radius: 0.75rem;
            border: 1px solid #e2e8f0;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }

        .calendar-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: #f8fafc;
        }

        .calendar-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .calendar-title h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
        }

        .calendar-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .nav-btn {
            padding: 0.75rem;
            border-radius: 0.5rem;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            cursor: pointer;
            color: #64748b;
            transition: all 0.2s;
            font-size: 1.25rem;
            font-weight: 600;
        }

        .nav-btn:hover {
            background: #f0fdf4;
            color: #16a34a;
            border-color: #bbf7d0;
        }

        .today-btn {
            padding: 0.75rem 1.5rem;
            background: #f0fdf4;
            color: #16a34a;
            border: 1px solid #bbf7d0;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .today-btn:hover {
            background: #dcfce7;
        }

        .month-year {
            text-align: center;
            padding: 1.5rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            border: 1px solid #e2e8f0;
        }

        .day-header {
            background: #f1f5f9;
            padding: 1rem;
            text-align: center;
            font-size: 0.875rem;
            font-weight: 600;
            color: #64748b;
            border-right: 1px solid #e2e8f0;
            border-bottom: 1px solid #e2e8f0;
        }

        .day-cell {
            min-height: 120px;
            padding: 0.75rem;
            border-right: 1px solid #e2e8f0;
            border-bottom: 1px solid #e2e8f0;
            position: relative;
            transition: all 0.2s;
        }

        .day-cell:hover {
            background: #f8fafc;
        }

        .day-cell.other-month {
            background: #f8fafc;
            color: #94a3b8;
        }

        .day-cell.today {
            background: #f0fdf4;
            border: 2px solid #22c55e;
        }

        .day-number {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .day-number.today {
            color: #16a34a;
            font-weight: 700;
        }

        .today-indicator {
            width: 8px;
            height: 8px;
            background: #22c55e;
            border-radius: 50%;
        }

        .events {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .event {
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            border: 1px solid;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            font-weight: 500;
        }

        .event:hover {
            transform: scale(1.02);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .event.deadline {
            background: #fef2f2;
            color: #dc2626;
            border-color: #fecaca;
        }

        .event.milestone {
            background: #f0fdf4;
            color: #16a34a;
            border-color: #bbf7d0;
        }

        .event.meeting {
            background: #eff6ff;
            color: #2563eb;
            border-color: #bfdbfe;
        }

        .event.task {
            background: #fefce8;
            color: #ca8a04;
            border-color: #fde68a;
        }

        .more-events {
            font-size: 0.75rem;
            color: #64748b;
            text-align: center;
            margin-top: 0.25rem;
            font-weight: 500;
        }

        .legend {
            margin-top: 1.5rem;
            background: white;
            border-radius: 0.75rem;
            border: 1px solid #e2e8f0;
            padding: 1.5rem;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }

        .legend h3 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 1rem;
        }

        .legend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            border-radius: 0.5rem;
            background: #f8fafc;
        }

        .legend-color {
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 0.375rem;
            border: 1px solid;
        }

        .legend-color.deadline {
            background: #fef2f2;
            border-color: #fecaca;
        }

        .legend-color.milestone {
            background: #f0fdf4;
            border-color: #bbf7d0;
        }

        .legend-color.meeting {
            background: #eff6ff;
            border-color: #bfdbfe;
        }

        .legend-color.task {
            background: #fefce8;
            border-color: #fde68a;
        }

        .legend-text {
            font-size: 0.875rem;
            color: #64748b;
            font-weight: 500;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* Gantt Styles */
        .gantt-container {
            background: white;
            border-radius: 0.75rem;
            border: 1px solid #e2e8f0;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }

        .gantt-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e2e8f0;
            background: #f8fafc;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .gantt-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .gantt-title h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
        }

        .gantt-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .zoom-btn {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            cursor: pointer;
            color: #64748b;
            transition: all 0.2s;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .zoom-btn:hover {
            background: #f0fdf4;
            color: #16a34a;
            border-color: #bbf7d0;
        }

        .zoom-btn.active {
            background: #f0fdf4;
            color: #16a34a;
            border-color: #bbf7d0;
        }

        .gantt-timeline {
            display: flex;
            background: #f1f5f9;
            border-bottom: 1px solid #e2e8f0;
        }

        .gantt-sidebar {
            width: 300px;
            background: #f8fafc;
            border-right: 1px solid #e2e8f0;
            padding: 1rem;
        }

        .gantt-sidebar-header {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #e2e8f0;
        }

        .gantt-main {
            flex: 1;
            overflow-x: auto;
            position: relative;
            min-height: 600px;
        }

        .gantt-grid {
            display: flex;
            min-width: 100%;
        }

        .gantt-tasks-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .gantt-tasks-container .gantt-bar {
            pointer-events: auto;
        }

        .gantt-column {
            min-width: 120px;
            border-right: 1px solid #e2e8f0;
            background: linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);
            position: relative;
        }

        .gantt-column-header {
            padding: 1rem 0.75rem;
            text-align: center;
            font-weight: 700;
            color: #1e293b;
            background: linear-gradient(135deg, #f1f5f9, #e2e8f0);
            border-bottom: 2px solid #cbd5e1;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .gantt-column-content {
            min-height: 600px;
            position: relative;
            background: repeating-linear-gradient(
                90deg,
                transparent,
                transparent 59px,
                #f1f5f9 59px,
                #f1f5f9 60px
            );
        }

        .gantt-column.today {
            background: linear-gradient(180deg, #f0fdf4 0%, #dcfce7 100%);
            border-left: 3px solid #22c55e;
            border-right: 3px solid #22c55e;
        }

        .gantt-column.today .gantt-column-header {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
        }

        .gantt-row {
            display: flex;
            border-bottom: 1px solid #f1f5f9;
            min-height: 80px;
            align-items: center;
            margin-bottom: 8px;
        }

        .gantt-row:hover {
            background: #f8fafc;
        }

        .gantt-task-info {
            width: 300px;
            padding: 1rem;
            border-right: 1px solid #e2e8f0;
            background: white;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .task-icon {
            width: 2rem;
            height: 2rem;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            font-weight: 600;
        }

        .task-icon.project { background: #f0fdf4; color: #16a34a; }
        .task-icon.milestone { background: #eff6ff; color: #2563eb; }
        .task-icon.task { background: #fefce8; color: #ca8a04; }

        .task-details h4 {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 0.25rem;
        }

        .task-details p {
            font-size: 0.875rem;
            color: #64748b;
        }

        .gantt-bars {
            flex: 1;
            position: relative;
            min-height: 80px;
            background: linear-gradient(90deg, #f8fafc 0%, #f1f5f9 100%);
            border-radius: 0.5rem;
            margin: 0.5rem;
            padding: 8px 0;
        }

        .gantt-bar {
            position: absolute;
            height: 28px;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            padding: 0 1rem;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            border: 2px solid transparent;
        }

        .gantt-bar:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.25);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .gantt-bar.project {
            background: linear-gradient(135deg, #22c55e, #16a34a, #15803d);
            color: white;
            border-left: 4px solid #15803d;
        }

        .gantt-bar.milestone {
            background: linear-gradient(135deg, #3b82f6, #2563eb, #1d4ed8);
            color: white;
            border-left: 4px solid #1d4ed8;
            height: 24px;
            border-radius: 12px;
        }

        .gantt-bar.task {
            background: linear-gradient(135deg, #f59e0b, #d97706, #b45309);
            color: white;
            border-left: 4px solid #b45309;
        }

        .gantt-bar.completed {
            background: linear-gradient(135deg, #10b981, #059669, #047857);
            color: white;
            border-left: 4px solid #047857;
            opacity: 0.8;
        }

        .gantt-bar.overdue {
            background: linear-gradient(135deg, #ef4444, #dc2626, #b91c1c);
            color: white;
            border-left: 4px solid #b91c1c;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .gantt-dependencies {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .dependency-line {
            position: absolute;
            height: 2px;
            background: #64748b;
            transform-origin: left center;
        }

        .dependency-arrow {
            position: absolute;
            width: 0;
            height: 0;
            border-left: 6px solid #64748b;
            border-top: 4px solid transparent;
            border-bottom: 4px solid transparent;
        }

        .gantt-legend {
            margin-top: 1.5rem;
            background: white;
            border-radius: 0.75rem;
            border: 1px solid #e2e8f0;
            padding: 1.5rem;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }

        .gantt-legend h3 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 1rem;
        }

        .gantt-legend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .gantt-legend-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            border-radius: 0.5rem;
            background: #f8fafc;
        }

        .gantt-legend-color {
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 0.375rem;
        }

        .gantt-legend-color.project {
            background: linear-gradient(135deg, #22c55e, #16a34a);
        }

        .gantt-legend-color.milestone {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
        }

        .gantt-legend-color.task {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }

        .gantt-legend-color.completed {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .gantt-legend-color.overdue {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .gantt-legend-text {
            font-size: 0.875rem;
            color: #64748b;
            font-weight: 500;
        }

        /* Projects Page Styles */
        .projects-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: white;
            border-radius: 0.75rem;
            border: 1px solid #e2e8f0;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }

        .projects-title h1 {
            font-size: 2rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 0.5rem;
        }

        .projects-title p {
            color: #64748b;
        }

        .projects-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            color: #64748b;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .filter-btn:hover {
            background: #f0fdf4;
            color: #16a34a;
            border-color: #bbf7d0;
        }

        .filter-btn.active {
            background: #f0fdf4;
            color: #16a34a;
            border-color: #bbf7d0;
        }

        .new-project-btn {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 2px 4px rgba(34, 197, 94, 0.2);
        }

        .new-project-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(34, 197, 94, 0.3);
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .project-card {
            background: white;
            border-radius: 0.75rem;
            border: 1px solid #e2e8f0;
            padding: 1.5rem;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .project-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border-color: #22c55e;
        }

        .project-card-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .project-icon {
            width: 3rem;
            height: 3rem;
            border-radius: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .project-icon.tech { background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; }
        .project-icon.marketing { background: linear-gradient(135deg, #8b5cf6, #7c3aed); color: white; }
        .project-icon.design { background: linear-gradient(135deg, #f59e0b, #d97706); color: white; }
        .project-icon.business { background: linear-gradient(135deg, #10b981, #059669); color: white; }

        .project-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 0.5rem;
        }

        .project-description {
            color: #64748b;
            font-size: 0.875rem;
            line-height: 1.5;
            margin-bottom: 1rem;
        }

        .project-status {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .project-status.active { background: #dcfce7; color: #15803d; }
        .project-status.completed { background: #dbeafe; color: #1d4ed8; }
        .project-status.paused { background: #fef3c7; color: #d97706; }
        .project-status.overdue { background: #fecaca; color: #dc2626; }

        .project-progress {
            margin: 1rem 0;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .progress-label {
            font-size: 0.875rem;
            font-weight: 600;
            color: #1e293b;
        }

        .progress-percentage {
            font-size: 0.875rem;
            font-weight: 700;
            color: #16a34a;
        }

        .progress-bar {
            width: 100%;
            height: 0.5rem;
            background: #e2e8f0;
            border-radius: 9999px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #22c55e, #16a34a);
            border-radius: 9999px;
            transition: width 1s ease;
        }

        .project-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin: 1rem 0;
            padding: 1rem;
            background: #f8fafc;
            border-radius: 0.5rem;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 0.25rem;
        }

        .stat-label {
            font-size: 0.75rem;
            color: #64748b;
            font-weight: 500;
        }

        .project-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #f1f5f9;
        }

        .project-dates {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .project-date {
            font-size: 0.75rem;
            color: #64748b;
        }

        .project-actions {
            display: flex;
            gap: 0.5rem;
        }

        .project-btn {
            padding: 0.5rem;
            border-radius: 0.375rem;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .project-btn.primary {
            background: #16a34a;
            color: white;
        }

        .project-btn.primary:hover {
            background: #15803d;
        }

        .project-btn.secondary {
            background: #f8fafc;
            color: #64748b;
            border: 1px solid #e2e8f0;
        }

        .project-btn.secondary:hover {
            background: #f1f5f9;
        }

        .project-btn.tertiary {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            box-shadow: 0 2px 4px rgba(59, 130, 246, 0.2);
        }

        .project-btn.tertiary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3);
        }

        .project-priority {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 0.5rem;
            height: 0.5rem;
            border-radius: 50%;
        }

        .project-priority.high { background: #ef4444; }
        .project-priority.medium { background: #f59e0b; }
        .project-priority.low { background: #10b981; }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .modal-overlay.active .modal {
            transform: scale(1);
        }

        .modal-header {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #64748b;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 0.5rem;
            transition: all 0.2s;
        }

        .modal-close:hover {
            background: #f1f5f9;
            color: #1e293b;
        }

        .modal-body {
            padding: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 0.5rem;
        }

        .form-input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            transition: all 0.2s;
            background: white;
        }

        .form-input:focus {
            outline: none;
            border-color: #22c55e;
            box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 0.5rem center;
            background-repeat: no-repeat;
            background-size: 1.5em 1.5em;
            padding-right: 2.5rem;
        }

        .form-radio-group {
            display: flex;
            gap: 1rem;
        }

        .form-radio {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-radio input[type="radio"] {
            width: 1rem;
            height: 1rem;
            accent-color: #22c55e;
        }

        .form-radio label {
            font-size: 0.875rem;
            color: #64748b;
            cursor: pointer;
        }

        .priority-indicator {
            display: inline-block;
            width: 0.75rem;
            height: 0.75rem;
            border-radius: 50%;
            margin-right: 0.5rem;
        }

        .priority-indicator.high { background: #ef4444; }
        .priority-indicator.medium { background: #f59e0b; }
        .priority-indicator.low { background: #10b981; }

        .modal-footer {
            padding: 1.5rem 2rem;
            border-top: 1px solid #e2e8f0;
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            font-size: 0.875rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
            box-shadow: 0 2px 4px rgba(34, 197, 94, 0.2);
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(34, 197, 94, 0.3);
        }

        .btn-secondary {
            background: #f8fafc;
            color: #64748b;
            border: 1px solid #e2e8f0;
        }

        .btn-secondary:hover {
            background: #f1f5f9;
            color: #475569;
        }

        .form-help {
            font-size: 0.75rem;
            color: #64748b;
            margin-top: 0.25rem;
        }

        .budget-display {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border: 1px solid #bbf7d0;
            border-radius: 0.75rem;
            padding: 1rem 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 0.5rem;
        }

        .budget-amount {
            font-size: 1.25rem;
            font-weight: 700;
            color: #16a34a;
        }

        .budget-calculation {
            font-size: 0.875rem;
            color: #059669;
            font-style: italic;
        }

        /* Task Modal Styles */
        .task-modal .modal {
            max-width: 700px;
        }

        .task-type-selector {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .task-type-option {
            flex: 1;
            padding: 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .task-type-option:hover {
            border-color: #22c55e;
            background: #f0fdf4;
        }

        .task-type-option.selected {
            border-color: #22c55e;
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
        }

        .task-type-option h3 {
            margin: 0 0 0.5rem 0;
            font-size: 1.125rem;
            font-weight: 600;
            color: #1e293b;
        }

        .task-type-option p {
            margin: 0;
            font-size: 0.875rem;
            color: #64748b;
        }

        .recurrence-options {
            display: none;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
        }

        .recurrence-options.show {
            display: block;
        }

        .recurrence-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .task-list {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            margin-top: 1rem;
        }

        .task-item {
            padding: 1rem;
            border-bottom: 1px solid #f1f5f9;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .task-item:last-child {
            border-bottom: none;
        }

        .task-info {
            flex: 1;
        }

        .task-name {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 0.25rem;
        }

        .task-meta {
            font-size: 0.875rem;
            color: #64748b;
        }

        .task-actions {
            display: flex;
            gap: 0.5rem;
        }

        .task-btn {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
        }

        .task-btn.edit {
            background: #f1f5f9;
            color: #475569;
        }

        .task-btn.edit:hover {
            background: #e2e8f0;
        }

        .task-btn.delete {
            background: #fef2f2;
            color: #dc2626;
        }

        .task-btn.delete:hover {
            background: #fee2e2;
        }

        .task-status {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .task-status.pending {
            background: #fef3c7;
            color: #92400e;
        }

        .task-status.completed {
            background: #d1fae5;
            color: #065f46;
        }

        .task-status.in-progress {
            background: #dbeafe;
            color: #1e40af;
        }

        .task-assignee {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
            padding: 0.5rem;
            background: #f8fafc;
            border-radius: 0.375rem;
            font-size: 0.875rem;
        }

        .assignee-avatar {
            font-size: 1.25rem;
        }

        .assignee-info {
            flex: 1;
        }

        .assignee-name {
            font-weight: 600;
            color: #1e293b;
        }

        .assignee-role {
            color: #64748b;
            font-size: 0.75rem;
        }

        /* Responsive Modal */
        @media (max-width: 768px) {
            .modal {
                width: 95%;
                margin: 1rem;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .recurrence-row {
                grid-template-columns: 1fr;
            }
            
            .task-type-selector {
                flex-direction: column;
            }
            
            .modal-header,
            .modal-body,
            .modal-footer {
                padding: 1rem;
            }
        }

        /* Responsive Gantt */
        @media (max-width: 1024px) {
            .gantt-sidebar {
                width: 250px;
            }
            
            .gantt-task-info {
                width: 250px;
            }
        }

        @media (max-width: 768px) {
            .gantt-sidebar {
                width: 200px;
            }
            
            .gantt-task-info {
                width: 200px;
            }
            
            .gantt-column {
                min-width: 100px;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .kpi-card, .project-card, .widget {
            animation: fadeIn 0.5s ease-out;
        }

        .project-card:nth-child(1) { animation-delay: 0.1s; }
        .project-card:nth-child(2) { animation-delay: 0.2s; }
        .project-card:nth-child(3) { animation-delay: 0.3s; }
        .project-card:nth-child(4) { animation-delay: 0.4s; }
    </style>
  </head>
  <body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <h1>VertProjet</h1>
                <p>Gestion de Projets Ultra-Professionnelle</p>
            </div>
            
            <nav class="nav">
                <div class="nav-item active" onclick="showPage('dashboard')">
                    <span>üìä Dashboard</span>
                </div>
                <div class="nav-item" onclick="showPage('projects')">
                    <span>üìÅ Projets</span>
                    <span class="nav-badge">12</span>
                </div>
                <div class="nav-item">
                    <span>‚úÖ T√¢ches</span>
                    <span class="nav-badge">45</span>
                </div>
                <div class="nav-item" onclick="showPage('calendar')">
                    <span>üìÖ Calendrier</span>
                    <span class="nav-badge">8</span>
                </div>
                <div class="nav-item" onclick="showPage('gantt')">
                    <span>üìä Gantt</span>
                </div>
                <div class="nav-item">
                    <span>üë• √âquipe</span>
                </div>
            </nav>
            
            <div style="padding: 1rem; border-top: 1px solid #e2e8f0;">
                <button class="btn btn-primary" style="width: 100%;">
                    ‚ûï Nouveau Projet
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <div class="header-logo">V</div>
                    <div class="header-title">
                        <h2>VertProjet</h2>
                        <p>Gestion de Projets Ultra-Professionnelle</p>
                    </div>
                </div>
                
                <div class="search">
                    <div class="search-icon">üîç</div>
                    <input type="text" placeholder="Rechercher projets, t√¢ches...">
                </div>
                
                <div class="header-actions">
                    <button class="header-btn">üîî</button>
                    <button class="header-btn">‚öôÔ∏è</button>
                    <div class="user-profile">
                        <div class="user-avatar">üë§</div>
                        <div class="user-info">
                            <h4>Directeur TI</h4>
                            <p>Le Meilleur</p>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Content -->
            <main class="content">
                <!-- Dashboard Page -->
                <div id="dashboard-page" class="page active">
                    <div class="dashboard-header">
                        <h1>Dashboard</h1>
                        <p>Vue d'ensemble de vos projets et t√¢ches</p>
                    </div>

                <!-- KPIs -->
                <div class="kpis-grid">
                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon blue">‚è∞</div>
                            <div class="kpi-trend up">‚ÜóÔ∏è +12%</div>
                        </div>
                        <div class="kpi-value">23</div>
                        <div class="kpi-label">T√¢ches en cours</div>
                    </div>
                    
                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon green">‚úÖ</div>
                            <div class="kpi-trend up">‚ÜóÔ∏è +8%</div>
                        </div>
                        <div class="kpi-value">156</div>
                        <div class="kpi-label">T√¢ches termin√©es</div>
                    </div>
                    
                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon red">‚ö†Ô∏è</div>
                            <div class="kpi-trend down">‚ÜòÔ∏è -3%</div>
                        </div>
                        <div class="kpi-value">7</div>
                        <div class="kpi-label">T√¢ches en retard</div>
                    </div>
                    
                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon primary">üìÅ</div>
                            <div class="kpi-trend up">‚ÜóÔ∏è +2</div>
                        </div>
                        <div class="kpi-value">12</div>
                        <div class="kpi-label">Projets actifs</div>
                    </div>
                </div>

                <!-- Main Grid -->
                <div class="main-grid">
                    <!-- Projects Section -->
                    <div class="projects-section">
                        <div class="section-header">
                            <h3 class="section-title">Projets en cours</h3>
                            <a href="#" class="section-link">Voir tout</a>
                        </div>
                        
                        <div class="projects-grid">
                            <div class="project-card">
                                <div class="project-header">
                                    <div>
                                        <div class="project-title">Projet Alpha</div>
                                        <div class="project-description">D√©veloppement d'une nouvelle fonctionnalit√©</div>
                                    </div>
                                    <span class="project-status en-cours">En cours</span>
                                </div>
                                
                                <div class="project-progress">
                                    <div class="progress-header">
                                        <span>Progression</span>
                                        <span>85%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill blue" style="width: 85%;"></div>
                                    </div>
                                </div>
                                
                                <div class="project-stats">
                                    <div class="stat">
                                        <div class="stat-label">üë• √âquipe</div>
                                        <div class="stat-value">5</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-label">‚úÖ T√¢ches</div>
                                        <div class="stat-value">17/20</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-label">üìÖ √âch√©ance</div>
                                        <div class="stat-value">15/02</div>
                                    </div>
                                </div>
                                
                                <div class="project-actions">
                                    <button class="btn btn-primary">Voir d√©tails</button>
                                    <button class="btn btn-outline">Modifier</button>
                                </div>
                            </div>
                            
                            <div class="project-card">
                                <div class="project-header">
                                    <div>
                                        <div class="project-title">Projet Beta</div>
                                        <div class="project-description">Refonte de l'interface utilisateur</div>
                                    </div>
                                    <span class="project-status en-cours">En cours</span>
                                </div>
                                
                                <div class="project-progress">
                                    <div class="progress-header">
                                        <span>Progression</span>
                                        <span>60%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill blue" style="width: 60%;"></div>
                                    </div>
                                </div>
                                
                                <div class="project-stats">
                                    <div class="stat">
                                        <div class="stat-label">üë• √âquipe</div>
                                        <div class="stat-value">3</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-label">‚úÖ T√¢ches</div>
                                        <div class="stat-value">12/20</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-label">üìÖ √âch√©ance</div>
                                        <div class="stat-value">01/03</div>
                                    </div>
                                </div>
                                
                                <div class="project-actions">
                                    <button class="btn btn-primary">Voir d√©tails</button>
                                    <button class="btn btn-outline">Modifier</button>
                                </div>
                            </div>
                            
                            <div class="project-card">
                                <div class="project-header">
                                    <div>
                                        <div class="project-title">Projet Gamma</div>
                                        <div class="project-description">Optimisation des performances</div>
                                    </div>
                                    <span class="project-status termine">Termin√©</span>
                                </div>
                                
                                <div class="project-progress">
                                    <div class="progress-header">
                                        <span>Progression</span>
                                        <span>100%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill green" style="width: 100%;"></div>
                                    </div>
                                </div>
                                
                                <div class="project-stats">
                                    <div class="stat">
                                        <div class="stat-label">üë• √âquipe</div>
                                        <div class="stat-value">4</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-label">‚úÖ T√¢ches</div>
                                        <div class="stat-value">15/15</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-label">üìÖ √âch√©ance</div>
                                        <div class="stat-value">30/01</div>
                                    </div>
                                </div>
                                
                                <div class="project-actions">
                                    <button class="btn btn-primary">Voir d√©tails</button>
                                    <button class="btn btn-outline">Modifier</button>
                                </div>
                            </div>
                            
                            <div class="project-card">
                                <div class="project-header">
                                    <div>
                                        <div class="project-title">Projet Delta</div>
                                        <div class="project-description">Migration vers nouvelle architecture</div>
                                    </div>
                                    <span class="project-status retard">En retard</span>
                                </div>
                                
                                <div class="project-progress">
                                    <div class="progress-header">
                                        <span>Progression</span>
                                        <span>30%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill red" style="width: 30%;"></div>
                                    </div>
                                </div>
                                
                                <div class="project-stats">
                                    <div class="stat">
                                        <div class="stat-label">üë• √âquipe</div>
                                        <div class="stat-value">6</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-label">‚úÖ T√¢ches</div>
                                        <div class="stat-value">6/20</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-label">üìÖ √âch√©ance</div>
                                        <div class="stat-value">20/01</div>
                                    </div>
                                </div>
                                
                                <div class="project-actions">
                                    <button class="btn btn-primary">Voir d√©tails</button>
                                    <button class="btn btn-outline">Modifier</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Widgets -->
                    <div class="widgets">
                        <div class="widget">
                            <div class="widget-header">
                                <div class="widget-icon">üìÖ</div>
                                <h3 class="widget-title">Calendrier</h3>
                            </div>
                            <div class="widget-content">
                                <div class="widget-placeholder">üìÖ</div>
                                <div class="widget-text">Calendrier interactif</div>
                                <div class="widget-subtext">Bient√¥t disponible</div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div class="widget-icon">üìä</div>
                                <h3 class="widget-title">Gantt</h3>
                            </div>
                            <div class="widget-content">
                                <div class="widget-placeholder">üìä</div>
                                <div class="widget-text">Diagramme de Gantt</div>
                                <div class="widget-subtext">Bient√¥t disponible</div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>

                <!-- Calendar Page -->
                <div id="calendar-page" class="page">
                    <div class="dashboard-header">
                        <h1>Calendrier des Projets</h1>
                        <p>Gestion des √©ch√©ances, jalons et r√©unions</p>
                    </div>

                    <div class="calendar-container">
                        <div class="calendar-header">
                            <div class="calendar-title">
                                <span style="font-size: 1.5rem;">üìÖ</span>
                                <h2>Calendrier</h2>
                            </div>
                            
                            <div class="calendar-controls">
                                <button class="nav-btn" onclick="previousMonth()">‚Äπ</button>
                                <button class="today-btn" onclick="goToToday()">Aujourd'hui</button>
                                <button class="nav-btn" onclick="nextMonth()">‚Ä∫</button>
                            </div>
                        </div>

                        <div class="month-year" id="monthYear">
                            Janvier 2024
                        </div>

                        <div class="calendar-grid" id="calendarGrid">
                            <!-- Les jours seront g√©n√©r√©s par JavaScript -->
                        </div>
                    </div>

                    <div class="legend">
                        <h3>L√©gende des √âv√©nements</h3>
                        <div class="legend-grid">
                            <div class="legend-item">
                                <div class="legend-color deadline"></div>
                                <span class="legend-text">‚è∞ √âch√©ances - Dates limites importantes</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color milestone"></div>
                                <span class="legend-text">üéØ Jalons - Points de contr√¥le du projet</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color meeting"></div>
                                <span class="legend-text">üë• R√©unions - R√©unions d'√©quipe</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color task"></div>
                                <span class="legend-text">‚úÖ T√¢ches - T√¢ches importantes</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Gantt Page -->
                <div id="gantt-page" class="page">
                    <div class="dashboard-header">
                        <h1>Diagramme de Gantt</h1>
                        <p>Planification et suivi des projets avec timeline interactive</p>
                    </div>

                    <div class="gantt-container">
                        <div class="gantt-header">
                            <div class="gantt-title">
                                <span style="font-size: 1.5rem;">üìä</span>
                                <h2>Gantt Interactif</h2>
                            </div>
                            
                            <div class="gantt-controls">
                                <button class="zoom-btn active" onclick="setZoom('month')">Mois</button>
                                <button class="zoom-btn" onclick="setZoom('week')">Semaine</button>
                                <button class="zoom-btn" onclick="setZoom('day')">Jour</button>
                            </div>
                        </div>

                        <div class="gantt-timeline">
                            <div class="gantt-sidebar">
                                <div class="gantt-sidebar-header">Projets & T√¢ches</div>
                                <div id="gantt-tasks-list">
                                    <!-- Les t√¢ches seront g√©n√©r√©es par JavaScript -->
                                </div>
                            </div>
                            
                            <div class="gantt-main">
                                <div class="gantt-grid" id="gantt-grid">
                                    <!-- La timeline sera g√©n√©r√©e par JavaScript -->
                                </div>
                                <div class="gantt-tasks-container" id="gantt-tasks-container">
                                    <!-- Les barres de t√¢ches seront g√©n√©r√©es par JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="gantt-legend">
                        <h3>L√©gende du Gantt</h3>
                        <div class="gantt-legend-grid">
                            <div class="gantt-legend-item">
                                <div class="gantt-legend-color project"></div>
                                <span class="gantt-legend-text">üìÅ Projets - Projets principaux</span>
                            </div>
                            <div class="gantt-legend-item">
                                <div class="gantt-legend-color milestone"></div>
                                <span class="gantt-legend-text">üéØ Jalons - Points de contr√¥le</span>
                            </div>
                            <div class="gantt-legend-item">
                                <div class="gantt-legend-color task"></div>
                                <span class="gantt-legend-text">‚úÖ T√¢ches - T√¢ches individuelles</span>
                            </div>
                            <div class="gantt-legend-item">
                                <div class="gantt-legend-color completed"></div>
                                <span class="gantt-legend-text">‚úÖ Termin√© - T√¢ches compl√©t√©es</span>
                            </div>
                            <div class="gantt-legend-item">
                                <div class="gantt-legend-color overdue"></div>
                                <span class="gantt-legend-text">‚ö†Ô∏è En retard - T√¢ches en retard</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Projects Page -->
                <div id="projects-page" class="page">
                    <div class="projects-header">
                        <div class="projects-title">
                            <h1>Gestion des Projets</h1>
                            <p>Suivi et organisation de tous vos projets</p>
                        </div>
                        
                        <div class="projects-actions">
                            <div class="filter-buttons">
                                <button class="filter-btn active" onclick="filterProjects('all')">Tous</button>
                                <button class="filter-btn" onclick="filterProjects('active')">Actifs</button>
                                <button class="filter-btn" onclick="filterProjects('completed')">Termin√©s</button>
                                <button class="filter-btn" onclick="filterProjects('paused')">En pause</button>
                            </div>
                            <button class="new-project-btn" onclick="createNewProject()">
                                ‚ûï Nouveau Projet
                            </button>
                        </div>
                    </div>

                    <div class="projects-grid" id="projects-grid">
                        <!-- Les projets seront g√©n√©r√©s par JavaScript -->
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Modal Gestion des T√¢ches -->
    <div class="modal-overlay task-modal" id="tasksModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">
                    <span>üìã</span>
                    Gestion des T√¢ches
                </h2>
                <button class="modal-close" onclick="closeTasksModal()">√ó</button>
            </div>
            
            <div class="modal-body">
                <div class="task-type-selector">
                    <div class="task-type-option selected" onclick="selectTaskType('single')">
                        <h3>üéØ T√¢che Unique</h3>
                        <p>Une t√¢che √† ex√©cuter une seule fois</p>
                    </div>
                    <div class="task-type-option" onclick="selectTaskType('recurring')">
                        <h3>üîÑ T√¢che R√©currente</h3>
                        <p>Une t√¢che qui se r√©p√®te automatiquement</p>
                    </div>
                </div>

                <form id="taskForm" onsubmit="handleTaskSubmit(event)">
                    <div class="form-group">
                        <label class="form-label" for="taskName">Nom de la t√¢che *</label>
                        <input type="text" id="taskName" name="name" class="form-input" placeholder="Ex: R√©vision du code" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="taskDescription">Description</label>
                        <textarea id="taskDescription" name="description" class="form-input form-textarea" placeholder="D√©crivez les d√©tails de la t√¢che..."></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="taskPriority">Priorit√© *</label>
                            <select id="taskPriority" name="priority" class="form-input form-select" required>
                                <option value="high">üî¥ Haute</option>
                                <option value="medium">üü° Moyenne</option>
                                <option value="low">üü¢ Faible</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="taskStatus">Statut *</label>
                            <select id="taskStatus" name="status" class="form-input form-select" required>
                                <option value="pending">‚è≥ En attente</option>
                                <option value="in-progress">üîÑ En cours</option>
                                <option value="completed">‚úÖ Termin√©e</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="taskDueDate">Date d'√©ch√©ance</label>
                            <input type="date" id="taskDueDate" name="dueDate" class="form-input">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="taskEstimatedHours">Heures estim√©es</label>
                            <input type="number" id="taskEstimatedHours" name="estimatedHours" class="form-input" min="0" step="0.5" placeholder="Ex: 2.5">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="taskAssignee">Responsable *</label>
                        <select id="taskAssignee" name="assignee" class="form-input form-select" required>
                            <option value="">S√©lectionner un responsable</option>
                        </select>
                    </div>

                    <div class="recurrence-options" id="recurrenceOptions">
                        <h4 style="margin: 0 0 1rem 0; color: #1e293b;">Options de r√©currence</h4>
                        
                        <div class="recurrence-row">
                            <div class="form-group">
                                <label class="form-label" for="recurrenceType">Type de r√©currence</label>
                                <select id="recurrenceType" name="recurrenceType" class="form-input form-select">
                                    <option value="daily">üìÖ Quotidienne</option>
                                    <option value="weekly">üìÜ Hebdomadaire</option>
                                    <option value="monthly">üìÖ Mensuelle</option>
                                    <option value="yearly">üóìÔ∏è Annuelle</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="recurrenceInterval">Intervalle</label>
                                <input type="number" id="recurrenceInterval" name="recurrenceInterval" class="form-input" min="1" value="1" placeholder="Ex: 1">
                                <div class="form-help">Tous les X jours/semaines/mois/ann√©es</div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="recurrenceEndDate">Date de fin (optionnel)</label>
                            <input type="date" id="recurrenceEndDate" name="recurrenceEndDate" class="form-input">
                            <div class="form-help">Laisser vide pour une r√©currence infinie</div>
                        </div>
                    </div>

                    <div class="form-group">
                        <button type="submit" class="btn btn-primary" style="width: 100%;">
                            ‚ûï Ajouter la T√¢che
                        </button>
                    </div>
                </form>

                <div class="task-list" id="taskList">
                    <!-- Les t√¢ches seront g√©n√©r√©es par JavaScript -->
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeTasksModal()">
                    Fermer
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Nouveau Projet -->
    <div class="modal-overlay" id="newProjectModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">
                    <span>üöÄ</span>
                    Nouveau Projet
                </h2>
                <button class="modal-close" onclick="closeNewProjectModal()">√ó</button>
            </div>
            
            <form id="newProjectForm" onsubmit="handleNewProject(event)">
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label" for="projectName">Nom du projet *</label>
                        <input type="text" id="projectName" name="name" class="form-input" placeholder="Ex: Refonte Site Web Corporate" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="projectDescription">Description</label>
                        <textarea id="projectDescription" name="description" class="form-input form-textarea" placeholder="D√©crivez les objectifs et le contexte du projet..."></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="projectCategory">Cat√©gorie *</label>
                            <select id="projectCategory" name="category" class="form-input form-select" required>
                                <option value="">S√©lectionner une cat√©gorie</option>
                                <option value="tech">üíª Technologie</option>
                                <option value="marketing">üì¢ Marketing</option>
                                <option value="design">üé® Design</option>
                                <option value="business">üíº Business</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="projectStatus">Statut *</label>
                            <select id="projectStatus" name="status" class="form-input form-select" required>
                                <option value="active">üü¢ En cours</option>
                                <option value="completed">‚úÖ Termin√©</option>
                                <option value="paused">‚è∏Ô∏è En pause</option>
                                <option value="planning">üìã En planification</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="projectStartDate">Date de d√©but *</label>
                            <input type="date" id="projectStartDate" name="startDate" class="form-input" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="projectEndDate">Date de fin *</label>
                            <input type="date" id="projectEndDate" name="endDate" class="form-input" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="projectHours">Heures pr√©vues</label>
                            <input type="number" id="projectHours" name="hours" class="form-input" min="1" step="1" placeholder="Ex: 120">
                            <div class="form-help">Nombre total d'heures estim√©es pour le projet</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="projectHourlyRate">Taux horaire (CAD$/h)</label>
                            <input type="number" id="projectHourlyRate" name="hourlyRate" class="form-input" min="0" step="0.01" placeholder="Ex: 75.00">
                            <div class="form-help">Co√ªt par heure de travail en dollars canadiens</div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Budget calcul√©</label>
                        <div class="budget-display" id="budgetDisplay">
                            <span class="budget-amount">0 CAD$</span>
                            <span class="budget-calculation">(0 heures √ó 0 CAD$/h)</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Priorit√© *</label>
                        <div class="form-radio-group">
                            <div class="form-radio">
                                <input type="radio" id="priorityHigh" name="priority" value="high" required>
                                <label for="priorityHigh">
                                    <span class="priority-indicator high"></span>
                                    Haute
                                </label>
                            </div>
                            <div class="form-radio">
                                <input type="radio" id="priorityMedium" name="priority" value="medium" required>
                                <label for="priorityMedium">
                                    <span class="priority-indicator medium"></span>
                                    Moyenne
                                </label>
                            </div>
                            <div class="form-radio">
                                <input type="radio" id="priorityLow" name="priority" value="low" required>
                                <label for="priorityLow">
                                    <span class="priority-indicator low"></span>
                                    Faible
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="form-help">
                        * Champs obligatoires
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeNewProjectModal()">
                        Annuler
                    </button>
                    <button type="submit" class="btn btn-primary">
                        üöÄ Cr√©er le Projet
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Donn√©es du Gantt avec plus de vari√©t√©
        const ganttTasks = [
            {
                id: 'p1',
                name: 'üöÄ Projet Alpha - Refonte Site',
                type: 'project',
                start: '2024-01-01',
                end: '2024-03-31',
                progress: 75,
                status: 'en-cours',
                dependencies: []
            },
            {
                id: 't1',
                name: 'üìä Phase 1: Analyse des besoins',
                type: 'task',
                start: '2024-01-01',
                end: '2024-01-15',
                progress: 100,
                status: 'completed',
                dependencies: []
            },
            {
                id: 'm1',
                name: 'üéØ Jalon 1: Analyse termin√©e',
                type: 'milestone',
                start: '2024-01-15',
                end: '2024-01-15',
                progress: 100,
                status: 'completed',
                dependencies: ['t1']
            },
            {
                id: 't2',
                name: 'üíª Phase 2: D√©veloppement Frontend',
                type: 'task',
                start: '2024-01-16',
                end: '2024-02-28',
                progress: 60,
                status: 'en-cours',
                dependencies: ['m1']
            },
            {
                id: 't3',
                name: 'üß™ Phase 3: Tests & QA',
                type: 'task',
                start: '2024-03-01',
                end: '2024-03-15',
                progress: 0,
                status: 'pending',
                dependencies: ['t2']
            },
            {
                id: 'm2',
                name: 'üéØ Jalon 2: Tests termin√©s',
                type: 'milestone',
                start: '2024-03-15',
                end: '2024-03-15',
                progress: 0,
                status: 'pending',
                dependencies: ['t3']
            },
            {
                id: 't4',
                name: 'üöÄ Phase 4: D√©ploiement Production',
                type: 'task',
                start: '2024-03-16',
                end: '2024-03-31',
                progress: 0,
                status: 'pending',
                dependencies: ['m2']
            },
            {
                id: 'p2',
                name: 'üì± Projet Beta - App Mobile',
                type: 'project',
                start: '2024-02-01',
                end: '2024-05-31',
                progress: 30,
                status: 'en-cours',
                dependencies: []
            },
            {
                id: 't5',
                name: 'üé® Conception UI/UX',
                type: 'task',
                start: '2024-02-01',
                end: '2024-02-15',
                progress: 80,
                status: 'en-cours',
                dependencies: []
            },
            {
                id: 't6',
                name: '‚öôÔ∏è D√©veloppement Backend API',
                type: 'task',
                start: '2024-02-16',
                end: '2024-04-15',
                progress: 20,
                status: 'en-cours',
                dependencies: ['t5']
            },
            {
                id: 't7',
                name: '‚ö†Ô∏è T√¢che critique en retard',
                type: 'task',
                start: '2024-01-10',
                end: '2024-01-20',
                progress: 50,
                status: 'overdue',
                dependencies: []
            },
            {
                id: 't8',
                name: 'üìà Analytics & Reporting',
                type: 'task',
                start: '2024-02-01',
                end: '2024-02-28',
                progress: 90,
                status: 'en-cours',
                dependencies: []
            },
            {
                id: 'm3',
                name: 'üéØ Jalon 3: Beta Release',
                type: 'milestone',
                start: '2024-04-30',
                end: '2024-04-30',
                progress: 0,
                status: 'pending',
                dependencies: ['t6', 't8']
            }
        ];

        let currentZoom = 'month';
        let ganttStartDate = new Date(2024, 0, 1); // 1er janvier 2024
        let ganttEndDate = new Date(2024, 5, 30); // 30 juin 2024

        // Donn√©es des projets
        const projectsData = [
            {
                id: 'p1',
                name: 'Refonte Site Web Corporate',
                description: 'Modernisation compl√®te du site web avec nouvelle interface utilisateur et optimisation SEO.',
                category: 'tech',
                status: 'active',
                priority: 'high',
                progress: 75,
                startDate: '2024-01-15',
                endDate: '2024-06-30',
                hours: 600,
                hourlyRate: 75,
                totalTasks: 24,
                completedTasks: 18,
                tasks: [],
                budget: 45000,
                spent: 32000
            },
            {
                id: 'p2',
                name: 'Application Mobile E-commerce',
                description: 'D√©veloppement d\'une application mobile pour la vente en ligne avec paiement s√©curis√©.',
                category: 'tech',
                status: 'active',
                priority: 'high',
                progress: 45,
                startDate: '2024-02-01',
                endDate: '2024-08-31',
                hours: 1000,
                hourlyRate: 85,
                totalTasks: 35,
                completedTasks: 16,
                tasks: [],
                budget: 85000,
                spent: 28000
            },
            {
                id: 'p3',
                name: 'Campagne Marketing Digital',
                description: 'Lancement d\'une campagne marketing compl√®te sur les r√©seaux sociaux et Google Ads.',
                category: 'marketing',
                status: 'active',
                priority: 'medium',
                progress: 60,
                startDate: '2024-01-01',
                endDate: '2024-04-30',
                hours: 300,
                hourlyRate: 83.33,
                totalTasks: 18,
                completedTasks: 11,
                tasks: [],
                budget: 25000,
                spent: 15000
            },
            {
                id: 'p4',
                name: 'Syst√®me de Gestion RH',
                description: 'D√©veloppement d\'un syst√®me interne pour la gestion des ressources humaines.',
                category: 'business',
                status: 'completed',
                priority: 'medium',
                progress: 100,
                startDate: '2023-09-01',
                endDate: '2024-01-31',
                hours: 720,
                hourlyRate: 83.33,
                totalTasks: 28,
                completedTasks: 28,
                tasks: [],
                budget: 60000,
                spent: 58000
            },
            {
                id: 'p5',
                name: 'Identit√© Visuelle Nouvelle Marque',
                description: 'Cr√©ation compl√®te de l\'identit√© visuelle pour le lancement de la nouvelle marque.',
                category: 'design',
                status: 'paused',
                priority: 'low',
                progress: 30,
                startDate: '2024-03-01',
                endDate: '2024-07-31',
                hours: 240,
                hourlyRate: 83.33,
                totalTasks: 12,
                completedTasks: 4,
                tasks: [],
                budget: 20000,
                spent: 6000
            },
            {
                id: 'p6',
                name: 'Migration Infrastructure Cloud',
                description: 'Migration de tous les serveurs vers une infrastructure cloud moderne et s√©curis√©e.',
                category: 'tech',
                status: 'active',
                priority: 'high',
                progress: 85,
                startDate: '2024-01-10',
                endDate: '2024-03-15',
                hours: 480,
                hourlyRate: 83.33,
                totalTasks: 15,
                completedTasks: 13,
                tasks: [],
                budget: 40000,
                spent: 32000
            }
        ];

        let currentFilter = 'all';
        
        // Calculer les dates min/max des t√¢ches
        function calculateGanttDateRange() {
            // Garder les dates fixes pour l'alignement
            ganttStartDate = new Date(2024, 0, 1); // 1er janvier 2024
            ganttEndDate = new Date(2024, 5, 30); // 30 juin 2024
        }

        // Donn√©es d'√©v√©nements
        const events = [
            {
                id: 1,
                title: '√âch√©ance Projet Alpha',
                date: '2024-02-15',
                type: 'deadline',
                time: '17:00'
            },
            {
                id: 2,
                title: 'R√©union √©quipe Beta',
                date: '2024-01-25',
                type: 'meeting',
                time: '14:00'
            },
            {
                id: 3,
                title: 'Jalon Gamma',
                date: '2024-01-30',
                type: 'milestone',
                time: '09:00'
            },
            {
                id: 4,
                title: 'T√¢che Delta critique',
                date: '2024-01-20',
                type: 'task',
                time: '16:00'
            },
            {
                id: 5,
                title: 'Revue mensuelle',
                date: '2024-01-31',
                type: 'meeting',
                time: '10:00'
            },
            {
                id: 6,
                title: 'Pr√©sentation client',
                date: '2024-01-22',
                type: 'meeting',
                time: '15:00'
            },
            {
                id: 7,
                title: 'Tests finaux',
                date: '2024-01-28',
                type: 'task',
                time: '11:00'
            }
        ];

        let currentDate = new Date();

        // Jours de la semaine
        const weekDays = ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'];

        // Mois en fran√ßais
        const months = [
            'Janvier', 'F√©vrier', 'Mars', 'Avril', 'Mai', 'Juin',
            'Juillet', 'Ao√ªt', 'Septembre', 'Octobre', 'Novembre', 'D√©cembre'
        ];

        // Navigation entre pages
        function showPage(pageId) {
            // Masquer toutes les pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Afficher la page s√©lectionn√©e
            document.getElementById(pageId + '-page').classList.add('active');
            
            // Mettre √† jour la navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Activer l'√©l√©ment de navigation correspondant
            const navItem = document.querySelector(`[onclick="showPage('${pageId}')"]`);
            if (navItem) {
                navItem.classList.add('active');
            }

            // Si c'est le calendrier, le rendre
            if (pageId === 'calendar') {
                renderCalendar();
            }
            
            // Si c'est le Gantt, le rendre
            if (pageId === 'gantt') {
                renderGantt();
            }
            
            // Si c'est les Projets, les rendre
            if (pageId === 'projects') {
                renderProjects();
            }
        }

        function renderCalendar() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            
            // Mettre √† jour le titre
            document.getElementById('monthYear').textContent = 
                `${months[month]} ${year}`;

            // G√©n√©rer la grille du calendrier
            const calendarGrid = document.getElementById('calendarGrid');
            calendarGrid.innerHTML = '';

            // En-t√™tes des jours
            weekDays.forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.className = 'day-header';
                dayHeader.textContent = day;
                calendarGrid.appendChild(dayHeader);
            });

            // Jours du mois
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const daysInMonth = lastDay.getDate();
            const startingDayOfWeek = firstDay.getDay();

            // Jours du mois pr√©c√©dent
            const prevMonth = new Date(year, month - 1, 0);
            for (let i = startingDayOfWeek - 1; i >= 0; i--) {
                const day = prevMonth.getDate() - i;
                createDayCell(day, true, calendarGrid);
            }

            // Jours du mois actuel
            for (let day = 1; day <= daysInMonth; day++) {
                const isToday = isCurrentDay(year, month, day);
                createDayCell(day, false, calendarGrid, isToday);
            }

            // Jours du mois suivant pour compl√©ter la grille
            const remainingDays = 42 - (startingDayOfWeek + daysInMonth);
            for (let day = 1; day <= remainingDays; day++) {
                createDayCell(day, true, calendarGrid);
            }
        }

        function createDayCell(day, isOtherMonth, container, isToday = false) {
            const dayCell = document.createElement('div');
            dayCell.className = `day-cell ${isOtherMonth ? 'other-month' : ''} ${isToday ? 'today' : ''}`;

            const dayNumber = document.createElement('div');
            dayNumber.className = `day-number ${isToday ? 'today' : ''}`;
            dayNumber.innerHTML = `${day}${isToday ? '<div class="today-indicator"></div>' : ''}`;
            dayCell.appendChild(dayNumber);

            // Ajouter les √©v√©nements
            if (!isOtherMonth) {
                const dayEvents = getEventsForDay(day);
                const eventsContainer = document.createElement('div');
                eventsContainer.className = 'events';

                dayEvents.slice(0, 3).forEach(event => {
                    const eventElement = document.createElement('div');
                    eventElement.className = `event ${event.type}`;
                    eventElement.textContent = `${getEventIcon(event.type)} ${event.title}`;
                    eventElement.title = `${event.title} - ${event.time || ''}`;
                    eventsContainer.appendChild(eventElement);
                });

                if (dayEvents.length > 3) {
                    const moreEvents = document.createElement('div');
                    moreEvents.className = 'more-events';
                    moreEvents.textContent = `+${dayEvents.length - 3} autres`;
                    eventsContainer.appendChild(moreEvents);
                }

                dayCell.appendChild(eventsContainer);
            }

            container.appendChild(dayCell);
        }

        function getEventsForDay(day) {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth() + 1;
            const dateStr = `${year}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;
            
            return events.filter(event => event.date === dateStr);
        }

        function getEventIcon(type) {
            const icons = {
                deadline: '‚è∞',
                milestone: 'üéØ',
                meeting: 'üë•',
                task: '‚úÖ'
            };
            return icons[type] || 'üìÖ';
        }

        function isCurrentDay(year, month, day) {
            const today = new Date();
            return today.getFullYear() === year && 
                   today.getMonth() === month && 
                   today.getDate() === day;
        }

        function previousMonth() {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar();
        }

        function nextMonth() {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar();
        }

        function goToToday() {
            currentDate = new Date();
            renderCalendar();
        }

        // Fonctions du Gantt
        function renderGantt() {
            calculateGanttDateRange(); // Calculer les dates bas√©es sur les t√¢ches
            renderGanttTimeline();
            renderGanttTasks();
        }

        function renderGanttTimeline() {
            const grid = document.getElementById('gantt-grid');
            grid.innerHTML = '';

            const dates = generateTimelineDates();
            
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            dates.forEach(date => {
                const column = document.createElement('div');
                const isToday = date.toDateString() === today.toDateString();
                column.className = `gantt-column ${isToday ? 'today' : ''}`;
                
                const header = document.createElement('div');
                header.className = 'gantt-column-header';
                header.textContent = formatDateHeader(date);
                if (isToday) {
                    header.innerHTML = `üìç ${formatDateHeader(date)}`;
                }
                column.appendChild(header);
                
                const content = document.createElement('div');
                content.className = 'gantt-column-content';
                content.setAttribute('data-date', date.toISOString().split('T')[0]);
                column.appendChild(content);
                
                grid.appendChild(column);
            });
        }

        function renderGanttTasks() {
            const tasksList = document.getElementById('gantt-tasks-list');
            const tasksContainer = document.getElementById('gantt-tasks-container');
            
            tasksList.innerHTML = '';
            tasksContainer.innerHTML = '';

            ganttTasks.forEach((task, index) => {
                // Cr√©er la ligne d'info de la t√¢che
                const taskRow = document.createElement('div');
                taskRow.className = 'gantt-row';
                taskRow.setAttribute('data-task-id', task.id);

                // Info de la t√¢che
                const taskInfo = document.createElement('div');
                taskInfo.className = 'gantt-task-info';
                
                const taskIcon = document.createElement('div');
                taskIcon.className = `task-icon ${task.type}`;
                taskIcon.textContent = getTaskIcon(task.type);
                
                const taskDetails = document.createElement('div');
                taskDetails.className = 'task-details';
                taskDetails.innerHTML = `
                    <h4>${task.name}</h4>
                    <p>${task.progress}% - ${getStatusText(task.status)}</p>
                `;
                
                taskInfo.appendChild(taskIcon);
                taskInfo.appendChild(taskDetails);
                taskRow.appendChild(taskInfo);

                // Zone vide pour l'alignement
                const emptySpace = document.createElement('div');
                emptySpace.className = 'gantt-bars';
                taskRow.appendChild(emptySpace);

                tasksList.appendChild(taskRow);

                // Cr√©er la barre du Gantt dans le conteneur s√©par√©
                const ganttBar = document.createElement('div');
                ganttBar.className = `gantt-bar ${task.type} ${task.status}`;
                ganttBar.textContent = task.name;
                ganttBar.style.left = calculateBarPosition(task.start) + 'px';
                ganttBar.style.width = calculateBarWidth(task.start, task.end) + 'px';
                ganttBar.style.top = (index * 88 + 8) + 'px'; // 88px = hauteur de ligne + marge
                ganttBar.setAttribute('data-task-id', task.id);
                
                // Ajouter la barre de progression
                if (task.progress > 0) {
                    const progressBar = document.createElement('div');
                    progressBar.style.position = 'absolute';
                    progressBar.style.left = '0';
                    progressBar.style.top = '0';
                    progressBar.style.height = '100%';
                    progressBar.style.width = task.progress + '%';
                    progressBar.style.background = 'rgba(255, 255, 255, 0.4)';
                    progressBar.style.borderRadius = '0.5rem';
                    progressBar.style.border = '1px solid rgba(255, 255, 255, 0.2)';
                    ganttBar.appendChild(progressBar);
                    
                    // Ajouter le pourcentage
                    const progressText = document.createElement('div');
                    progressText.style.position = 'absolute';
                    progressText.style.right = '8px';
                    progressText.style.top = '50%';
                    progressText.style.transform = 'translateY(-50%)';
                    progressText.style.fontSize = '0.75rem';
                    progressText.style.fontWeight = '700';
                    progressText.style.color = 'rgba(255, 255, 255, 0.9)';
                    progressText.style.textShadow = '0 1px 2px rgba(0, 0, 0, 0.3)';
                    progressText.textContent = task.progress + '%';
                    ganttBar.appendChild(progressText);
                }
                
                // Ajouter des indicateurs visuels
                if (task.status === 'overdue') {
                    ganttBar.style.animation = 'pulse 2s infinite';
                }
                
                if (task.type === 'milestone') {
                    ganttBar.style.borderRadius = '50px';
                    ganttBar.style.width = '24px';
                    ganttBar.style.height = '24px';
                    ganttBar.style.minWidth = '24px';
                    ganttBar.style.padding = '0';
                    ganttBar.style.justifyContent = 'center';
                    ganttBar.style.fontSize = '1rem';
                }
                
                tasksContainer.appendChild(ganttBar);
            });
        }

        function generateTimelineDates() {
            const dates = [];
            const current = new Date(ganttStartDate);
            const end = new Date(ganttEndDate);

            // G√©n√©rer les mois de janvier √† juin 2024
            const months = [
                new Date(2024, 0, 1), // Janvier
                new Date(2024, 1, 1), // F√©vrier
                new Date(2024, 2, 1), // Mars
                new Date(2024, 3, 1), // Avril
                new Date(2024, 4, 1), // Mai
                new Date(2024, 5, 1)  // Juin
            ];

            return months;
        }

        function formatDateHeader(date) {
            switch (currentZoom) {
                case 'day':
                    return date.toLocaleDateString('fr-FR', { day: '2-digit', month: '2-digit' });
                case 'week':
                    const weekStart = new Date(date);
                    weekStart.setDate(date.getDate() - date.getDay());
                    return `S${getWeekNumber(weekStart)}`;
                case 'month':
                default:
                    return date.toLocaleDateString('fr-FR', { month: 'short' });
            }
        }

        function getWeekNumber(date) {
            const firstDay = new Date(date.getFullYear(), 0, 1);
            const pastDaysOfYear = (date - firstDay) / 86400000;
            return Math.ceil((pastDaysOfYear + firstDay.getDay() + 1) / 7);
        }

        function calculateBarPosition(startDate) {
            const start = new Date(startDate);
            const ganttStart = new Date(ganttStartDate);
            
            // Calculer la diff√©rence en mois
            const yearDiff = start.getFullYear() - ganttStart.getFullYear();
            const monthDiff = start.getMonth() - ganttStart.getMonth();
            const totalMonthDiff = yearDiff * 12 + monthDiff;
            
            // Position = index de la colonne * largeur de colonne
            return totalMonthDiff * 120;
        }

        function calculateBarWidth(startDate, endDate) {
            const start = new Date(startDate);
            const end = new Date(endDate);
            
            // Calculer la diff√©rence en mois
            const yearDiff = end.getFullYear() - start.getFullYear();
            const monthDiff = end.getMonth() - start.getMonth();
            const totalMonthDiff = yearDiff * 12 + monthDiff + 1;
            
            // Largeur = nombre de mois * largeur de colonne
            return Math.max(totalMonthDiff * 120, 60);
        }

        function getTaskIcon(type) {
            const icons = {
                project: 'üìÅ',
                milestone: 'üéØ',
                task: '‚úÖ'
            };
            return icons[type] || 'üìã';
        }

        function getStatusText(status) {
            const statusTexts = {
                'en-cours': 'En cours',
                'completed': 'Termin√©',
                'pending': 'En attente',
                'overdue': 'En retard'
            };
            return statusTexts[status] || status;
        }

        function setZoom(zoom) {
            currentZoom = zoom;
            
            // Mettre √† jour les boutons
            document.querySelectorAll('.zoom-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Re-rendre le Gantt
            renderGantt();
        }

        // Fonctions pour la gestion des projets
        function renderProjects() {
            const projectsGrid = document.getElementById('projects-grid');
            projectsGrid.innerHTML = '';

            const filteredProjects = getFilteredProjects();

            filteredProjects.forEach(project => {
                const projectCard = createProjectCard(project);
                projectsGrid.appendChild(projectCard);
            });
        }

        function getFilteredProjects() {
            if (currentFilter === 'all') {
                return projectsData;
            }
            return projectsData.filter(project => project.status === currentFilter);
        }

        function createProjectCard(project) {
            const card = document.createElement('div');
            card.className = 'project-card';
            card.setAttribute('data-project-id', project.id);

            const categoryIcon = getCategoryIcon(project.category);
            const statusText = getStatusText(project.status);
            const priorityClass = project.priority;

            card.innerHTML = `
                <div class="project-priority ${priorityClass}"></div>
                <div class="project-card-header">
                    <div>
                        <div class="project-icon ${project.category}">${categoryIcon}</div>
                        <div class="project-title">${project.name}</div>
                        <div class="project-description">${project.description}</div>
                    </div>
                    <span class="project-status ${project.status}">${statusText}</span>
                </div>

                <div class="project-progress">
                    <div class="progress-header">
                        <span class="progress-label">Progression</span>
                        <span class="progress-percentage">${project.progress}%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${project.progress}%"></div>
                    </div>
                </div>

            <div class="project-stats">
                <div class="stat-item">
                    <div class="stat-value">${project.hours || 0}h</div>
                    <div class="stat-label">‚è±Ô∏è Heures</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">${project.completedTasks}/${project.totalTasks}</div>
                    <div class="stat-label">‚úÖ T√¢ches</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">${formatCurrency(project.budget)}</div>
                    <div class="stat-label">üí∞ Budget</div>
                </div>
            </div>

                <div class="project-meta">
                    <div class="project-dates">
                        <div class="project-date">üìÖ D√©but: ${formatDate(project.startDate)}</div>
                        <div class="project-date">üèÅ Fin: ${formatDate(project.endDate)}</div>
                    </div>
                <div class="project-actions">
                    <button class="project-btn primary" onclick="viewProject('${project.id}')">Voir</button>
                    <button class="project-btn secondary" onclick="editProject('${project.id}')">Modifier</button>
                    <button class="project-btn tertiary" onclick="manageTasks('${project.id}')">üìã T√¢ches</button>
                </div>
                </div>
            `;

            return card;
        }

        function getCategoryIcon(category) {
            const icons = {
                tech: 'üíª',
                marketing: 'üì¢',
                design: 'üé®',
                business: 'üíº'
            };
            return icons[category] || 'üìã';
        }

        function getStatusText(status) {
            const statusTexts = {
                active: 'En cours',
                completed: 'Termin√©',
                paused: 'En pause',
                overdue: 'En retard'
            };
            return statusTexts[status] || status;
        }

        function formatCurrency(amount) {
            return new Intl.NumberFormat('fr-CA', {
                style: 'currency',
                currency: 'CAD'
            }).format(amount);
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('fr-FR', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });
        }

        function filterProjects(filter) {
            currentFilter = filter;
            
            // Mettre √† jour les boutons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Re-rendre les projets
            renderProjects();
        }

        function createNewProject() {
            // D√©finir la date d'aujourd'hui par d√©faut
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('projectStartDate').value = today;
            
            // Ajouter les √©v√©nements pour le calcul du budget
            setupBudgetCalculation();
            
            // Ouvrir le modal
            const modal = document.getElementById('newProjectModal');
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function setupBudgetCalculation() {
            const hoursInput = document.getElementById('projectHours');
            const rateInput = document.getElementById('projectHourlyRate');
            const budgetDisplay = document.getElementById('budgetDisplay');
            
            function updateBudget() {
                const hours = parseFloat(hoursInput.value) || 0;
                const rate = parseFloat(rateInput.value) || 0;
                const budget = hours * rate;
                
                const budgetAmount = budgetDisplay.querySelector('.budget-amount');
                const budgetCalculation = budgetDisplay.querySelector('.budget-calculation');
                
                budgetAmount.textContent = `${budget.toLocaleString('fr-CA')} CAD$`;
                budgetCalculation.textContent = `(${hours} heures √ó ${rate} CAD$/h)`;
            }
            
            // Ajouter les √©v√©nements
            hoursInput.addEventListener('input', updateBudget);
            rateInput.addEventListener('input', updateBudget);
            
            // Calcul initial
            updateBudget();
        }

        function closeNewProjectModal() {
            const modal = document.getElementById('newProjectModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
            
            // R√©initialiser le formulaire
            document.getElementById('newProjectForm').reset();
        }

        function handleNewProject(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const hours = parseFloat(formData.get('hours')) || 0;
            const rate = parseFloat(formData.get('hourlyRate')) || 0;
            const calculatedBudget = hours * rate;
            
            const newProject = {
                id: 'p' + (projectsData.length + 1),
                name: formData.get('name'),
                description: formData.get('description') || 'Aucune description fournie.',
                category: formData.get('category'),
                status: formData.get('status'),
                priority: formData.get('priority'),
                progress: 0,
                startDate: formData.get('startDate'),
                endDate: formData.get('endDate'),
                hours: hours,
                hourlyRate: rate,
                tasks: 0,
                completedTasks: 0,
                budget: calculatedBudget,
                spent: 0
            };

            // Ajouter le nouveau projet
            projectsData.unshift(newProject);
            
            // Fermer le modal
            closeNewProjectModal();
            
            // Re-rendre les projets
            renderProjects();
            
            // Afficher une notification de succ√®s
            showNotification('üéâ Projet cr√©√© avec succ√®s !', 'success');
        }

        function showNotification(message, type = 'info') {
            // Cr√©er l'√©l√©ment de notification
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <div class="notification-content">
                    <span class="notification-message">${message}</span>
                    <button class="notification-close" onclick="this.parentElement.parentElement.remove()">√ó</button>
                </div>
            `;
            
            // Ajouter les styles si pas d√©j√† pr√©sents
            if (!document.querySelector('#notification-styles')) {
                const style = document.createElement('style');
                style.id = 'notification-styles';
                style.textContent = `
                    .notification {
                        position: fixed;
                        top: 2rem;
                        right: 2rem;
                        z-index: 1001;
                        max-width: 400px;
                        transform: translateX(100%);
                        transition: transform 0.3s ease;
                    }
                    
                    .notification.show {
                        transform: translateX(0);
                    }
                    
                    .notification-content {
                        background: white;
                        border-radius: 0.75rem;
                        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
                        padding: 1rem 1.5rem;
                        display: flex;
                        align-items: center;
                        justify-content: space-between;
                        border-left: 4px solid #22c55e;
                    }
                    
                    .notification-success .notification-content {
                        border-left-color: #22c55e;
                    }
                    
                    .notification-error .notification-content {
                        border-left-color: #ef4444;
                    }
                    
                    .notification-warning .notification-content {
                        border-left-color: #f59e0b;
                    }
                    
                    .notification-message {
                        font-weight: 600;
                        color: #1e293b;
                    }
                    
                    .notification-close {
                        background: none;
                        border: none;
                        font-size: 1.25rem;
                        color: #64748b;
                        cursor: pointer;
                        margin-left: 1rem;
                    }
                `;
                document.head.appendChild(style);
            }
            
            // Ajouter au DOM
            document.body.appendChild(notification);
            
            // Animer l'apparition
            setTimeout(() => notification.classList.add('show'), 100);
            
            // Supprimer automatiquement apr√®s 5 secondes
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => notification.remove(), 300);
            }, 5000);
        }

        function viewProject(projectId) {
            const project = projectsData.find(p => p.id === projectId);
            if (project) {
                alert(`Voir le projet: ${project.name}`);
            }
        }

        function editProject(projectId) {
            const project = projectsData.find(p => p.id === projectId);
            if (project) {
                alert(`Modifier le projet: ${project.name}`);
            }
        }

        // Variables globales pour les t√¢ches
        let currentProjectId = null;
        let tasksData = [];

        // Donn√©es des √©quipes
        const teamMembers = [
            { id: 'tm1', name: 'Alice Dubois', role: 'Chef de projet', email: 'alice.dubois@company.com', avatar: 'üë©‚Äçüíº' },
            { id: 'tm2', name: 'Bob Martin', role: 'D√©veloppeur Senior', email: 'bob.martin@company.com', avatar: 'üë®‚Äçüíª' },
            { id: 'tm3', name: 'Claire Leroy', role: 'Designer UX/UI', email: 'claire.leroy@company.com', avatar: 'üë©‚Äçüé®' },
            { id: 'tm4', name: 'David Moreau', role: 'Analyste Business', email: 'david.moreau@company.com', avatar: 'üë®‚Äçüíº' },
            { id: 'tm5', name: 'Emma Petit', role: 'D√©veloppeuse Frontend', email: 'emma.petit@company.com', avatar: 'üë©‚Äçüíª' },
            { id: 'tm6', name: 'Fran√ßois Bernard', role: 'DevOps Engineer', email: 'francois.bernard@company.com', avatar: 'üë®‚Äçüîß' },
            { id: 'tm7', name: 'Gabrielle Roux', role: 'Marketing Manager', email: 'gabrielle.roux@company.com', avatar: 'üë©‚Äçüíº' },
            { id: 'tm8', name: 'Hugo Simon', role: 'QA Tester', email: 'hugo.simon@company.com', avatar: 'üë®‚Äçüîç' }
        ];

        function manageTasks(projectId) {
            currentProjectId = projectId;
            const project = projectsData.find(p => p.id === projectId);
            
            // Charger les t√¢ches du projet
            tasksData = project.tasks || [];
            
            // Peupler la liste des responsables
            populateAssigneeList();
            
            // Ouvrir le modal
            const modal = document.getElementById('tasksModal');
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // Re-rendre les t√¢ches
            renderTasks();
        }

        function populateAssigneeList() {
            const assigneeSelect = document.getElementById('taskAssignee');
            assigneeSelect.innerHTML = '<option value="">S√©lectionner un responsable</option>';
            
            teamMembers.forEach(member => {
                const option = document.createElement('option');
                option.value = member.id;
                option.textContent = `${member.avatar} ${member.name} - ${member.role}`;
                assigneeSelect.appendChild(option);
            });
        }

        function closeTasksModal() {
            const modal = document.getElementById('tasksModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
            
            // R√©initialiser le formulaire
            document.getElementById('taskForm').reset();
            currentProjectId = null;
        }

        function selectTaskType(type) {
            // Mettre √† jour l'interface
            document.querySelectorAll('.task-type-option').forEach(option => {
                option.classList.remove('selected');
            });
            event.target.closest('.task-type-option').classList.add('selected');
            
            // Afficher/masquer les options de r√©currence
            const recurrenceOptions = document.getElementById('recurrenceOptions');
            if (type === 'recurring') {
                recurrenceOptions.classList.add('show');
            } else {
                recurrenceOptions.classList.remove('show');
            }
        }

        function handleTaskSubmit(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const taskType = document.querySelector('.task-type-option.selected').onclick.toString().includes('single') ? 'single' : 'recurring';
            
            const assigneeId = formData.get('assignee');
            const assignee = teamMembers.find(m => m.id === assigneeId);

            const newTask = {
                id: 't' + Date.now(),
                name: formData.get('name'),
                description: formData.get('description') || '',
                priority: formData.get('priority'),
                status: formData.get('status'),
                dueDate: formData.get('dueDate') || null,
                estimatedHours: parseFloat(formData.get('estimatedHours')) || 0,
                assignee: assignee ? {
                    id: assignee.id,
                    name: assignee.name,
                    role: assignee.role,
                    avatar: assignee.avatar
                } : null,
                type: taskType,
                projectId: currentProjectId,
                createdAt: new Date().toISOString(),
                recurrence: taskType === 'recurring' ? {
                    type: formData.get('recurrenceType'),
                    interval: parseInt(formData.get('recurrenceInterval')) || 1,
                    endDate: formData.get('recurrenceEndDate') || null
                } : null
            };

            // Ajouter la t√¢che
            tasksData.push(newTask);
            
            // Mettre √† jour le projet
            const project = projectsData.find(p => p.id === currentProjectId);
            if (project) {
                project.tasks = tasksData;
                project.totalTasks = tasksData.length;
                project.completedTasks = tasksData.filter(t => t.status === 'completed').length;
            }
            
            // Re-rendre les t√¢ches et les projets
            renderTasks();
            renderProjects();
            
            // R√©initialiser le formulaire
            event.target.reset();
            
            // Afficher une notification
            showNotification('‚úÖ T√¢che ajout√©e avec succ√®s !', 'success');
        }

        function renderTasks() {
            const taskList = document.getElementById('taskList');
            taskList.innerHTML = '';

            if (tasksData.length === 0) {
                taskList.innerHTML = '<div style="text-align: center; padding: 2rem; color: #64748b;">Aucune t√¢che pour ce projet</div>';
                return;
            }

            tasksData.forEach(task => {
                const taskItem = createTaskItem(task);
                taskList.appendChild(taskItem);
            });
        }

        function createTaskItem(task) {
            const item = document.createElement('div');
            item.className = 'task-item';
            
            const statusText = {
                'pending': 'En attente',
                'in-progress': 'En cours',
                'completed': 'Termin√©e'
            };
            
            const priorityColor = {
                'high': '#ef4444',
                'medium': '#f59e0b',
                'low': '#10b981'
            };

            item.innerHTML = `
                <div class="task-info">
                    <div class="task-name">${task.name}</div>
                    <div class="task-meta">
                        <span class="task-status ${task.status}">${statusText[task.status]}</span>
                        <span style="margin-left: 1rem; color: ${priorityColor[task.priority]};">‚óè</span>
                        ${task.estimatedHours > 0 ? `${task.estimatedHours}h` : ''}
                        ${task.type === 'recurring' ? 'üîÑ' : 'üéØ'}
                        ${task.dueDate ? `üìÖ ${formatDate(task.dueDate)}` : ''}
                    </div>
                    ${task.description ? `<div style="margin-top: 0.5rem; font-size: 0.875rem; color: #64748b;">${task.description}</div>` : ''}
                    ${task.assignee ? `
                        <div class="task-assignee">
                            <span class="assignee-avatar">${task.assignee.avatar}</span>
                            <div class="assignee-info">
                                <div class="assignee-name">${task.assignee.name}</div>
                                <div class="assignee-role">${task.assignee.role}</div>
                            </div>
                        </div>
                    ` : ''}
                </div>
                <div class="task-actions">
                    <button class="task-btn edit" onclick="editTask('${task.id}')">Modifier</button>
                    <button class="task-btn delete" onclick="deleteTask('${task.id}')">Supprimer</button>
                </div>
            `;

            return item;
        }

        function editTask(taskId) {
            const task = tasksData.find(t => t.id === taskId);
            if (task) {
                // Pr√©-remplir le formulaire
                document.getElementById('taskName').value = task.name;
                document.getElementById('taskDescription').value = task.description;
                document.getElementById('taskPriority').value = task.priority;
                document.getElementById('taskStatus').value = task.status;
                document.getElementById('taskDueDate').value = task.dueDate || '';
                document.getElementById('taskEstimatedHours').value = task.estimatedHours || '';
                document.getElementById('taskAssignee').value = task.assignee ? task.assignee.id : '';
                
                // S√©lectionner le type de t√¢che
                selectTaskType(task.type);
                
                // Supprimer l'ancienne t√¢che
                deleteTask(taskId);
                
                showNotification('üìù T√¢che charg√©e pour modification', 'info');
            }
        }

        function deleteTask(taskId) {
            if (confirm('√ätes-vous s√ªr de vouloir supprimer cette t√¢che ?')) {
                tasksData = tasksData.filter(t => t.id !== taskId);
                
                // Mettre √† jour le projet
                const project = projectsData.find(p => p.id === currentProjectId);
                if (project) {
                    project.tasks = tasksData;
                    project.totalTasks = tasksData.length;
                    project.completedTasks = tasksData.filter(t => t.status === 'completed').length;
                }
                
                renderTasks();
                renderProjects();
                showNotification('üóëÔ∏è T√¢che supprim√©e', 'info');
            }
        }

        // Gestion des √©v√©nements du modal
        document.addEventListener('click', function(event) {
            const newProjectModal = document.getElementById('newProjectModal');
            const tasksModal = document.getElementById('tasksModal');
            
            if (event.target === newProjectModal) {
                closeNewProjectModal();
            }
            if (event.target === tasksModal) {
                closeTasksModal();
            }
        });

        // Gestion de la touche Escape
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const newProjectModal = document.getElementById('newProjectModal');
                const tasksModal = document.getElementById('tasksModal');
                
                if (newProjectModal.classList.contains('active')) {
                    closeNewProjectModal();
                }
                if (tasksModal.classList.contains('active')) {
                    closeTasksModal();
                }
            }
        });

        // Animation des barres de progression
        document.addEventListener('DOMContentLoaded', function() {
            const progressBars = document.querySelectorAll('.progress-fill');
            progressBars.forEach((bar, index) => {
                setTimeout(() => {
                    bar.style.width = bar.style.width;
                }, 500 + index * 200);
            });
            
            // Initialisation des pages
            showPage('dashboard');
            renderProjects();
        });
    </script>
  </body>
</html>